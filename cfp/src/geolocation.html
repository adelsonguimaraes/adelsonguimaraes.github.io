<!DOCTYPE html>
<html>
<header>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
</header>
<body>
<p id="demo">Clique no botão para obter sua localização:</p>
<button onclick="getLocation()">Clique aqui</button>
<!-- <button onClick="localizarUsuario()">Minha Localização</button> <br> -->

<div id="mapholder"></div>
<script src="https://maps.google.com/maps/api/js?key=AIzaSyDz6MK5RAxChbfU8A4CuraLMkDDiIQoTk8"></script>
<script>
var x=document.getElementById("demo");
function getLocation() {
  if (navigator.geolocation) {
    var options = {
      enableHighAccuracy: true,
      timeout: 5000,
      maximumAge: 0
    };

    navigator.geolocation.getCurrentPosition(showPosition, showError, options);
  }else{
    x.innerHTML="Geolocalização não é suportada nesse browser.";
  }
}
 
function showPosition(position) {
  console.log('aqui estamos');
    if (position.coords.latitude === '-3.106951' && position.coords.longitude === '-60.020758') {
      x.innerHTML = "Você está na AKTO.";
      console.log('Você está na AKTO');
    }

  lat=position.coords.latitude;
  lon=position.coords.longitude;
  latlon=new google.maps.LatLng(lat, lon)
  mapholder=document.getElementById('mapholder')
  mapholder.style.height='250px';
  mapholder.style.width='500px';
 
  var myOptions={
  center:latlon,zoom:14,
  mapTypeId:google.maps.MapTypeId.ROADMAP,
  mapTypeControl:false,
  navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}
  };
  var map=new google.maps.Map(document.getElementById("mapholder"),myOptions);
  var marker=new google.maps.Marker({position:latlon,map:map,title:"Você está Aqui!"});
  var circulo = new google.maps.Circle({
    map: map,
    center: new google.maps.LatLng(lat, lon),
    radius: 20, // 1000 metros = 1k.
    strokeColor: "black",
    fillColor: "white",
    fillOpacity: 0.25,
  });

  }
 
function showError(error)
  {
    console.log('Estamos aqui');
  switch(error.code)
    {
    case error.PERMISSION_DENIED:
      x.innerHTML="Usuário rejeitou a solicitação de Geolocalização."
      break;
    case error.POSITION_UNAVAILABLE:
      x.innerHTML="Localização indisponível."
      break;
    case error.TIMEOUT:
      x.innerHTML="O tempo da requisição expirou."
      break;
    case error.UNKNOWN_ERROR:
      x.innerHTML="Algum erro desconhecido aconteceu."
      break;
    }
  }
  function localizarUsuario(){
  if (window.navigator && window.navigator.geolocation) {
   var geolocation = window.navigator.geolocation;
   geolocation.getCurrentPosition(sucesso, erro);
  } else {
     alert('Geolocalização não suportada em seu navegador.')
  }
  function sucesso(posicao){
    console.log(posicao);
    var latitude = posicao.coords.latitude;
    var longitude = posicao.coords.longitude;
    alert('Sua latitude estimada é: ' + latitude + ' e longitude: ' + longitude )
  }
  function erro(error){
    console.log(error)
  }
}

</script>
</body>
</html>